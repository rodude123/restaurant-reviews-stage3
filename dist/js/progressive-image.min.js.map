{"version":3,"sources":["progressive-image.min.js"],"names":["window","addEventListener","requestAnimationFrame","document","getElementsByClassName","e","t","n","i","setTimeout","r","length","pageYOffset","s","innerHeight","o","getBoundingClientRect","top","height","a","classList","remove","getAttribute","href","Image","dataset","srcset","sizes","src","className","complete","onload","style","cursor","preventDefault","querySelector","insertBefore","nextSibling","alt","removeChild","MutationObserver","observe","body","subtree","childList","attributes","characterData"],"mappings":"AAAAA,OAAOC,kBAAkBD,OAAOE,uBAAuBC,SAASC,wBAAwBJ,OAAOC,iBAAiB,OAAO,WAAW,IAAII,EAAEC,EAAEC,EAAEJ,SAASC,uBAAuB,uBAA6P,SAASI,IAAIF,EAAEA,GAAGG,WAAW,WAAWH,EAAE,KAAKI,KAAK,KAAK,SAASA,IAAIH,EAAEI,QAAQT,sBAAsB,WAAW,IAAI,IAAII,EAAEE,EAAEE,EAAEV,OAAOY,YAAYC,EAAEH,EAAEV,OAAOc,YAAYC,EAAE,EAAEA,EAAER,EAAEI,QAAQD,GAAGF,EAAEE,GAAGJ,EAAEC,EAAEQ,GAAGC,yBAAyBC,KAAKX,EAAEY,QAAQL,EAAEL,GAAGW,EAAEZ,EAAEQ,IAAIR,EAAEQ,GAAGK,UAAUC,OAAO,YAAYN,IAAIV,EAAEE,EAAEI,SAAS,SAASQ,EAAEd,GAAG,IAAIC,EAAED,IAAIA,EAAEiB,aAAa,cAAcjB,EAAEkB,MAAM,GAAGjB,EAAE,CAAC,IAAIC,EAAE,IAAIiB,MAAMnB,EAAEoB,UAAUlB,EAAEmB,OAAOrB,EAAEoB,QAAQC,QAAQ,GAAGnB,EAAEoB,MAAMtB,EAAEoB,QAAQE,OAAO,IAAIpB,EAAEqB,IAAItB,EAAEC,EAAEsB,UAAU,SAAStB,EAAEuB,SAAStB,IAAID,EAAEwB,OAAOvB,EAAE,SAASA,IAAIN,sBAAsB,WAAWI,IAAID,EAAEkB,OAAOlB,EAAE2B,MAAMC,OAAO,UAAU5B,EAAEJ,iBAAiB,QAAQ,SAASI,GAAGA,EAAE6B,mBAAkB,IAAK,IAAI1B,EAAEH,EAAE8B,eAAe9B,EAAE8B,cAAc,eAAe9B,EAAE+B,aAAa7B,EAAEC,GAAGA,EAAE6B,aAAapC,iBAAiB,eAAe,WAAWO,IAAID,EAAE+B,IAAI9B,EAAE8B,KAAK,GAAGjC,EAAEkC,YAAY/B,IAAID,EAAEa,UAAUC,OAAO,eAAvjCrB,OAAOC,iBAAiB,SAASO,GAAE,GAAIR,OAAOC,iBAAiB,SAASO,GAAE,GAAIgC,kBAAmB,IAAIA,iBAAiB,WAAWjC,EAAEI,SAASN,GAAGK,MAAM+B,QAAQtC,SAASuC,MAAMC,SAAQ,EAAGC,WAAU,EAAGC,YAAW,EAAGC,eAAc,IAAs2BpC,MAAK","file":"progressive-image.min.js","sourcesContent":["window.addEventListener&&window.requestAnimationFrame&&document.getElementsByClassName&&window.addEventListener('load',function(){var e,t,n=document.getElementsByClassName('progressive replace');(window.addEventListener('scroll',i,!1),window.addEventListener('resize',i,!1),MutationObserver)&&new MutationObserver(function(){n.length!==e&&r()}).observe(document.body,{subtree:!0,childList:!0,attributes:!0,characterData:!0});function i(){t=t||setTimeout(function(){t=null,r()},300)}function r(){n.length&&requestAnimationFrame(function(){for(var t,i,r=window.pageYOffset,s=r+window.innerHeight,o=0;o<n.length;)r<(i=r+(t=n[o].getBoundingClientRect()).top)+t.height&&s>i?(a(n[o]),n[o].classList.remove('replace')):o++;e=n.length})}function a(e){var t=e&&(e.getAttribute('data-href')||e.href);if(t){var n=new Image;e.dataset&&(n.srcset=e.dataset.srcset||'',n.sizes=e.dataset.sizes||''),n.src=t,n.className='reveal',n.complete?i():n.onload=i}function i(){requestAnimationFrame(function(){t===e.href&&(e.style.cursor='default',e.addEventListener('click',function(e){e.preventDefault()},!1));var i=e.querySelector&&e.querySelector('img.preview');e.insertBefore(n,i&&i.nextSibling).addEventListener('animationend',function(){i&&(n.alt=i.alt||'',e.removeChild(i)),n.classList.remove('reveal')})})}}r()},!1);"]}