var urlsToCache=["/","js/idb.js","js/indexController.js","js/dbhelper.js","js/restaurant_info.js","css/index.css","css/restaurant.css","/index.html"],staticCache="rReviews-static-v5",imgCache="rReviews-image",allCacheNames=[staticCache,imgCache];function servePhoto(e){return caches.open(imgCache).then(t=>t.match(e.url).then(n=>n||fetch(e).then(n=>(t.put(e.url,n.clone()),n))))}self.addEventListener("install",function(e){e.waitUntil(caches.open(staticCache).then(function(e){return e.addAll(urlsToCache)}))}),self.addEventListener("active",function(e){e.waitUntil(caches.keys().then(function(e){return Promise.all(e.filter(function(t){return t.startsWith("rReviews-")&&!allCacheNames.includes(e)}).map(function(e){return cache.delete(e)}))}))}),self.addEventListener("fetch",function(e){let t=new URL(e.request.url);t.origin===location.origin&&t.pathname.startsWith("/imgRes/")?e.respondWith(servePhoto(e.request)):e.respondWith(caches.open(staticCache).then(function(t){return t.match(e.request).then(function(n){return n||fetch(e.request).then(function(n){return t.put(e.request,n.clone()),404==n.status?new Response('<div style="position:absolute;top:50%;left:50%;width:200px;height:200px;margin:-100px 0 0 -100px;font-size:1.5em;"><strong>Page not found 404</strong></div>',{headers:{"Content-Type":"text/html"}}):n}).catch(function(){return new Response('<div style="position:absolute;top:50%;left:50%;width:200px;height:200px;margin:-100px 0 0 -100px;font-size:1.5em;"><strong>Page not found, you appear to be offline</strong></div>',{headers:{"Content-Type":"text/html"}})})})}))}),self.addEventListener("message",function(e){"skipWaiting"===e.data.action&&self.skipWaiting()});
//# sourceMappingURL=sw.js.map